{"ast":null,"code":"var _jsxFileName = \"D:\\\\Covid\\\\Demo\\\\src\\\\pages\\\\homepage\\\\homepage.component.jsx\";\nimport React, { useState, useEffect } from \"react\"; // import {\n//   getPatientCountBySeverity,\n//   getPatientCountByVentilator,\n// } from \"../../apis\";\n\nimport { API } from \"../../backend\";\nimport { HomePageContainer, Circle, RectBox } from \"./homepage.styles\";\n\nconst HomePage = () => {\n  const [result, setResult] = useState({\n    hospital: \"\",\n    totalBeds: 0,\n    Severe: 0,\n    Moderate: 0,\n    Normal: 0\n  });\n  const [ventilator, setVentilator] = useState({\n    totalVentilators: 0,\n    Used: 0\n  }); //   const [severityResult, setSeverityResult] = useState({\n  //     currentStatus: \"\",\n  //     patientCount: \"\",\n  //   });\n  //const { currentStatus, patientCount } = severityResult;\n\n  const hospitalCode = \"HSP1\";\n  const hospitalName = \"KIMS Hospital\";\n  useEffect(() => {\n    const abortController = new AbortController();\n    const signal = abortController.signal;\n    fetch(`${API}/dashboard/beds?hospitalName=${hospitalName}&hospitalCode=${hospitalCode}`, {\n      signal: signal,\n      method: \"GET\"\n    }).then(results => results.json()).then(data => {\n      console.log('data is ', data);\n      setResult({ ...result,\n        hospital: data[0].hospital,\n        totalBeds: data[0].totalBeds,\n        Severe: data[0].Severe,\n        Moderate: data[0].Moderate,\n        Normal: data[0].Normal\n      });\n    }); // fetch(`${API}/ptcount`, { signal: signal, method: \"GET\" })\n    //   .then((results) => results.json())\n    //   .then((data) => {\n    //     //console.log(data);\n    //     setCount(data[0].ptCount);\n    //   });\n\n    fetch(`${API}/dashboard/ventilators?hospitalName=${hospitalName}&hospitalCode=${hospitalCode}`, {\n      signal: signal,\n      method: \"GET\"\n    }).then(results => results.json()).then(data => {\n      //console.log(data);\n      setVentilator({ ...ventilator,\n        totalVentilators: data[0].totalVentilators,\n        Used: data[0].Used\n      });\n    });\n    return function cleanup() {\n      abortController.abort();\n    };\n  }, []);\n  console.log('result is', result);\n  const {\n    totalBeds,\n    Severe,\n    Moderate,\n    Normal\n  } = result;\n  const count = Severe + Moderate + Normal;\n  const {\n    totalVentilators,\n    Used\n  } = ventilator; // const cards = () => {\n  //   return result.map((item) => (\n  //     //  color = \"#ff0000\",\n  //     //  if (item._id == \"Severe\") {\n  //     //   color = \"#ff0000\";\n  //     //  }\n  //     <Circle\n  //       key={item._id}\n  //       style={{\n  //         backgroundColor:\n  //           item._id === \"Severe\"\n  //             ? \"#ff0000\"\n  //             : item._id === \"Mild\"\n  //             ? \"#FFFF00\"\n  //             : \"#FF8C00\",\n  //       }}\n  //     >\n  //       <div\n  //         style={{\n  //           textAlign: \"center\",\n  //           margin: \"auto\",\n  //           padding: \"70px 30px\",\n  //         }}\n  //       >\n  //         <h4>{item._id}</h4>\n  //         <p>{item.ptCount}</p>\n  //       </div>\n  //     </Circle>\n  //   ));\n  // };\n\n  return /*#__PURE__*/React.createElement(HomePageContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      position: \"relative\",\n      left: \"-330px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, \"Beds\"), /*#__PURE__*/React.createElement(RectBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      padding: \"10px 40px\",\n      justifyContent: \"space-between\",\n      flexWrap: \"wrap\",\n      margin: \"30px\",\n      gap: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Circle, {\n    style: {\n      backgroundColor: \"#FF0000\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\",\n      margin: \"auto\",\n      padding: \"70px 30px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, \"Severe\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, Severe))), /*#__PURE__*/React.createElement(Circle, {\n    style: {\n      backgroundColor: \"#FFFF00\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\",\n      margin: \"auto\",\n      padding: \"70px 30px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, \"Moderate\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, Moderate))), /*#__PURE__*/React.createElement(Circle, {\n    style: {\n      backgroundColor: \"#FF8C00\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\",\n      margin: \"auto\",\n      padding: \"70px 30px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      marginBottom: \"50px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, \"Normal\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, Normal))), /*#__PURE__*/React.createElement(Circle, {\n    style: {\n      backgroundColor: \"#008000\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\",\n      margin: \"auto\",\n      padding: \"70px 30px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, \"Free\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, totalBeds - count))))), /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      position: \"relative\",\n      left: \"-200px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }\n  }, \"Ventilators\"), /*#__PURE__*/React.createElement(RectBox, {\n    style: {\n      width: \"700px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      padding: \"10px 40px\",\n      justifyContent: \"space-between\",\n      flexWrap: \"wrap\",\n      margin: \"30px 90px 30px 90px\",\n      gap: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Circle, {\n    style: {\n      backgroundColor: \"#FF8C00\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\",\n      margin: \"auto\",\n      padding: \"70px 30px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, \"Used\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, Used))), /*#__PURE__*/React.createElement(Circle, {\n    style: {\n      backgroundColor: \"#008000\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\",\n      margin: \"auto\",\n      padding: \"70px 30px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }\n  }, \"Free\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, totalVentilators - Used))))));\n};\n\nexport default HomePage;","map":{"version":3,"sources":["D:/Covid/Demo/src/pages/homepage/homepage.component.jsx"],"names":["React","useState","useEffect","API","HomePageContainer","Circle","RectBox","HomePage","result","setResult","hospital","totalBeds","Severe","Moderate","Normal","ventilator","setVentilator","totalVentilators","Used","hospitalCode","hospitalName","abortController","AbortController","signal","fetch","method","then","results","json","data","console","log","cleanup","abort","count","position","left","display","flexDirection","padding","justifyContent","flexWrap","margin","gap","backgroundColor","textAlign","marginBottom","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n// import {\r\n//   getPatientCountBySeverity,\r\n//   getPatientCountByVentilator,\r\n// } from \"../../apis\";\r\nimport { API } from \"../../backend\";\r\nimport { HomePageContainer, Circle,RectBox } from \"./homepage.styles\";\r\n\r\nconst HomePage = () => {\r\n  const [result, setResult] = useState({hospital:\"\", totalBeds:0, Severe:0,Moderate:0,Normal:0 });\r\n  const [ventilator, setVentilator] = useState({totalVentilators:0,Used:0});\r\n  //   const [severityResult, setSeverityResult] = useState({\r\n  //     currentStatus: \"\",\r\n  //     patientCount: \"\",\r\n  //   });\r\n  //const { currentStatus, patientCount } = severityResult;\r\n  const hospitalCode = \"HSP1\";\r\n  const hospitalName = \"KIMS Hospital\";\r\n  useEffect(() => {\r\n    const abortController = new AbortController();\r\n    const signal = abortController.signal;\r\n\r\n    fetch(`${API}/dashboard/beds?hospitalName=${hospitalName}&hospitalCode=${hospitalCode}`, { signal: signal, method: \"GET\" })\r\n      .then((results) => results.json())\r\n      .then((data) => {\r\n        console.log('data is ' ,data);\r\n        setResult({...result,hospital:data[0].hospital, totalBeds: data[0].totalBeds,Severe: data[0].Severe, Moderate: data[0].Moderate, Normal:data[0].Normal });\r\n      });\r\n\r\n    // fetch(`${API}/ptcount`, { signal: signal, method: \"GET\" })\r\n    //   .then((results) => results.json())\r\n    //   .then((data) => {\r\n    //     //console.log(data);\r\n    //     setCount(data[0].ptCount);\r\n    //   });\r\n\r\n    fetch(`${API}/dashboard/ventilators?hospitalName=${hospitalName}&hospitalCode=${hospitalCode}`, { signal: signal, method: \"GET\" })\r\n      .then((results) => results.json())\r\n      .then((data) => {\r\n        //console.log(data);\r\n        setVentilator({...ventilator,totalVentilators: data[0].totalVentilators,Used: data[0].Used});\r\n      });\r\n\r\n    return function cleanup() {\r\n      abortController.abort();\r\n    };\r\n  }, []);\r\n  \r\n  console.log('result is',result);\r\n  const {totalBeds,Severe,Moderate,Normal} = result;\r\n  const count = Severe+Moderate+Normal;\r\n  const {totalVentilators,Used} = ventilator;\r\n  // const cards = () => {\r\n  //   return result.map((item) => (\r\n  //     //  color = \"#ff0000\",\r\n  //     //  if (item._id == \"Severe\") {\r\n  //     //   color = \"#ff0000\";\r\n  //     //  }\r\n\r\n  //     <Circle\r\n  //       key={item._id}\r\n  //       style={{\r\n  //         backgroundColor:\r\n  //           item._id === \"Severe\"\r\n  //             ? \"#ff0000\"\r\n  //             : item._id === \"Mild\"\r\n  //             ? \"#FFFF00\"\r\n  //             : \"#FF8C00\",\r\n  //       }}\r\n  //     >\r\n  //       <div\r\n  //         style={{\r\n  //           textAlign: \"center\",\r\n  //           margin: \"auto\",\r\n  //           padding: \"70px 30px\",\r\n  //         }}\r\n  //       >\r\n  //         <h4>{item._id}</h4>\r\n  //         <p>{item.ptCount}</p>\r\n  //       </div>\r\n  //     </Circle>\r\n  //   ));\r\n  // };\r\n\r\n  return (\r\n    <HomePageContainer>\r\n      <h1 style={{position:\"relative\",left:\"-330px\"}}>Beds</h1>\r\n      <RectBox>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          padding: \"10px 40px\",\r\n          justifyContent: \"space-between\",\r\n          flexWrap: \"wrap\",\r\n          margin: \"30px\",\r\n          gap: \"20px\",\r\n        }}\r\n      >\r\n        <Circle style={{ backgroundColor: \"#FF0000\" }}>\r\n          <div\r\n            style={{\r\n              textAlign: \"center\",\r\n              margin: \"auto\",\r\n              padding: \"70px 30px\",\r\n            }}\r\n          >\r\n            <h4>Severe</h4>\r\n            <p>{Severe}</p>\r\n          </div>\r\n        </Circle>\r\n\r\n        <Circle style={{ backgroundColor: \"#FFFF00\" }}>\r\n          <div\r\n            style={{\r\n              textAlign: \"center\",\r\n              margin: \"auto\",\r\n              padding: \"70px 30px\",\r\n            }}\r\n          >\r\n            <h4>Moderate</h4>\r\n            <p>{Moderate}</p>\r\n          </div>\r\n        </Circle>\r\n\r\n        <Circle style={{ backgroundColor: \"#FF8C00\" }}>\r\n          <div\r\n            style={{\r\n              textAlign: \"center\",\r\n              margin: \"auto\",\r\n              padding: \"70px 30px\",\r\n            }}\r\n          >\r\n            <h3 style={{marginBottom:\"50px\"}}>Normal</h3>\r\n            <p>{Normal}</p>\r\n          </div>\r\n        </Circle>\r\n\r\n        <Circle style={{ backgroundColor: \"#008000\" }}>\r\n          <div\r\n            style={{\r\n              textAlign: \"center\",\r\n              margin: \"auto\",\r\n              padding: \"70px 30px\",\r\n            }}\r\n          >\r\n            <h4>Free</h4>\r\n            <p>{totalBeds - count}</p>\r\n          </div>\r\n        </Circle>\r\n      </div>\r\n      </RectBox>\r\n      <h1 style={{position:\"relative\",left:\"-200px\"}}>Ventilators</h1>\r\n      <RectBox style={{width:\"700px\"}}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          padding: \"10px 40px\",\r\n          justifyContent: \"space-between\",\r\n          flexWrap: \"wrap\",\r\n          margin:\"30px 90px 30px 90px\",\r\n          gap: \"20px\",\r\n        }}\r\n      >\r\n        <Circle\r\n          style={{\r\n            backgroundColor: \"#FF8C00\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              textAlign: \"center\",\r\n              margin: \"auto\",\r\n              padding: \"70px 30px\",\r\n            }}\r\n          >\r\n            <h4>Used</h4>\r\n            <p>{Used}</p>\r\n          </div>\r\n        </Circle>\r\n        <Circle\r\n          style={{\r\n            backgroundColor: \"#008000\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              textAlign: \"center\",\r\n              margin: \"auto\",\r\n              padding: \"70px 30px\",\r\n            }}\r\n          >\r\n            <h4>Free</h4>\r\n            <p>{totalVentilators - Used}</p>\r\n          </div>\r\n        </Circle>\r\n      </div>\r\n      </RectBox>\r\n    </HomePageContainer>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n"]},"metadata":{},"sourceType":"module"}